---
title: "路由交换技术 - 二层交换"
date: 2021-08-08T22:58:27+08:00
keywords: ["l2", "switch"]
tags: ["l2", "switch"]
---

数据从网络层发送到数据链路层后，加上目的MAC地址和自己的MAC地址(源MAC地址)，计算出数据帧的长度，形成以太网帧。

以太网帧根据目的MAC地址在二层交换网络中转发，直到被发送到对端设备。

<!--more-->

## 基于源MAC地址的学习

交换机转发数据帧是基于MAC地址表进行的，而MAC地址表的建立则是交换机基于源MAC地址学习到的。

交换机在接收到数据帧后，在MAC表中查找源MAC，若是未学习的MAC，将MAC与端口的映射加入到MAC表中。

MAC条目在一定时间内未命中后，将会被老化。

交换机通过构建MAC地址和交换机端口之间的映射关系形成MAC地址表。

## 基于目的MAC地址的转发

交换机在接收到数据帧后，检查数据帧的目的MAC地址，
然后将目的MAC地址和MAC地址表进行匹配，匹配到的MAC地址表项的接口即为数据帧的出接口。
